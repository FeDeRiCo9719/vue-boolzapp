<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
    <!-- google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&display=swap" rel="stylesheet">
    
    <!-- font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    
    <!-- development version, includes helpful console warnings -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    
    <link rel="stylesheet" href="css/style.css">
    <title>Vue Boolzapp</title>
</head>
<body>

    <div class="background">

        <div id="root" class="container">
            <!------------------------ LEFT BOX ------------------------>
            <div class="left-box">
                <!------------------------ nome utente ------------------------>
                <div class="name_user">
                    <div class="box_name_user">
                        <img src="img/avatar_io.jpg" alt="">
                        <h3>Tu</h3>
                    </div>
                    <div class="icons">
                        <i class="fas fa-circle-notch"></i>
                        <i class="fas fa-comment-alt"></i>
                        <i class="fas fa-ellipsis-v"></i>
                    </div>
                </div>
                <!------------------------ notifiche ------------------------>
                <div class="notifiche">
                    <div class="bell_box">
                        <i class="fas fa-bell-slash"></i>
                    </div>
                    <div>
                        <h3>Ricevi notifiche di nuovi messaggi</h3>
                        <a href="#">Attiva notifiche desktop</a>
                    </div>
                </div>
                <!------------------------ search ------------------------>
                <div class="search_box">
                    <div class="search_icon_box">
                        <i class="fas fa-search"></i>
                    </div>
                    <input v-on:keyup="filterUser" v-model="searchUser" class="search" type="text"  placeholder="Cerca o inizia una nuova chat">
                </div>
                <!------------------------ lista utenti ------------------------>
                <ul class="users_list">
                    <li v-if='seen' @click='showChat(index)' v-for="(item, index) in contacts" :key='index' class="box_user">                       
                        <img :src="`img/avatar${item.avatar}.jpg`" :alt="item.name">                       
                        <h3>{{item.name}}</h3>
                    </li>
                    <li @click='showChat(index)' v-for="(item, index) in listFiltered" :key='index' class="box_user">                       
                        <img :src="`img/avatar${item.avatar}.jpg`" :alt="item.name">                       
                        <h3>{{item.name}}</h3>
                    </li>
                </ul>

            </div>

            <!------------------------ RIGHT BOX ------------------------>
            <div class="right-box">
                <!------------------------ utente in conversazione ------------------------>
                <div class="user_msg">
                    <div class="box_name_user">
                        <img :src="`img/avatar${contacts[avatarIndex].avatar}.jpg`" alt="">
                        <div>
                            <h3>{{contacts[avatarIndex].name}}</h3>
                            <p>Online</p>
                        </div>
                    </div>
                    <div class="icons">
                        <i class="fas fa-search"></i>
                        <i class="fas fa-paperclip"></i>
                        <i class="fas fa-ellipsis-v"></i>
                    </div>
                </div>
                <!------------------------ messaggi ------------------------>
                <div class="chat">
                    <div class="msg_col" v-for="(item, index) in contacts[avatarIndex].messages" :key='index'>
                        <div class="box_msg" :class="item.status" >
                            {{item.message}}
                            <div class="msgDate">{{item.date}}</div>
                        </div>
                    </div>
                </div>
                <!------------------------ scrivi un messaggio ------------------------>
                <div class="write_msg">
                    <div class="icon_box">
                        <i class="far fa-smile"></i>
                    </div>
                    <div class="write_box">
                        <input v-on:keyup.enter="addMessage" v-model="textMessage" class="write" type="text"  placeholder="Scrivi un messaggio">
                    </div>
                    <div class="icon_box">
                        <i class="fas fa-microphone"></i>
                    </div>
                </div>

            </div>

        </div>

    </div>

    <script src="Js/script.js"></script>
</body>
</html>